@import '../../config//theme.scss';

$slider-cards-amount-desktop: 6;
$slider-cards-amount-tablet: 4;
$slider-cards-amount-mobile-landscape: 3;
$slider-cards-amount-mobile-portrait: 2;

@function calc-slider-card-width($cards-amount) {
  @return (100vw - (($layout-spacing-lg) * 2 + $layout-spacing-xsm * ($cards-amount - 1))) / $cards-amount;
}

@function calc-slider-translation-base($cards-amount) {
  $card-width: calc-slider-card-width($cards-amount);
  @return $card-width * ($layout-video-card-grow-factor - 1)
}

@mixin calculate-cards-size($cards-amount) {
  $slider-card-width: calc-slider-card-width($cards-amount);
  $slider-card-height: $slider-card-width / $player-aspect-ratio-coef;

  height: $slider-card-height;
  width: $slider-card-width;

  &__expanded ~ .sliderCard {
    transform: translateX(calc-slider-translation-base($cards-amount));
  }
}

@mixin calculate-cards-left-movement($cards-amount) {
  &__expandedFirst {
    &:hover {
      margin-left: 0 !important;
    }
  }

  &__expandedLast {
    &:hover {
      margin-left: - calc-slider-translation-base($cards-amount) !important;
    }
  }

  &__hovered {
    &:hover {
      margin-left: - calc-slider-translation-base($cards-amount) * 0.5;
    }
  }
}

.sliderFrame {
  position: relative;
  width: 100%;

  .sliderRow {
    padding-left: $layout-spacing-lg;
    white-space: nowrap;
    transition: all $layout-transition-time;

    .sliderCard {
      display: inline-block;
      margin-right: $layout-spacing-xsm;
      transition: all $layout-transition-time;
      transform-origin: center left;

      @media screen and (min-width: 1171px) {
        @include calculate-cards-size($cards-amount: $slider-cards-amount-desktop);
      }

      @media screen and (max-width: 1170px) and (min-width: 841px) {
        @include calculate-cards-size($cards-amount: $slider-cards-amount-tablet);
      }

      @media screen and (max-width: 840px) and (min-width: 641px) {
        @include calculate-cards-size($cards-amount: $slider-cards-amount-mobile-landscape);
      }

      @media screen and (max-width:640px) {
        @include calculate-cards-size($cards-amount: $slider-cards-amount-mobile-portrait);
      }
    }

    @media screen and (min-width: 1171px) {
      @include calculate-cards-left-movement($cards-amount: $slider-cards-amount-desktop);
    }

    @media screen and (max-width: 1170px) and (min-width: 841px) {
      @include calculate-cards-left-movement($cards-amount: $slider-cards-amount-tablet);
    }

    @media screen and (max-width: 840px) and (min-width: 641px) {
      @include calculate-cards-left-movement($cards-amount: $slider-cards-amount-mobile-landscape);
    }

    @media screen and (max-width:640px) {
      @include calculate-cards-left-movement($cards-amount: $slider-cards-amount-mobile-portrait);
    }
  }

  &:hover {
    .scrollButtonArea {
      opacity: 1;
    }
  }
}

.scrollButtonArea {
  cursor: pointer;
  border: none;
  outline: none;
  position: absolute;
  top: 0;
  bottom: 0;
  padding: 0 $layout-spacing-md;
  width: $layout-spacing-lg;
  z-index: 40;
  opacity: 0;
  background-color: rgba(
    $colors-background-primary,
    $colors-opacity-traslucent
  );
  transition: opacity $layout-transition-time;

  i {
    transition: transform $layout-transition-time-quick;
    font-size: $font-size-xlg;
    color: $colors-font-primary;
  }

  &:hover {
    i {
      transform: scaleY($layout-button-grow-factor-large) !important;
    }
  }

  &__left {
    left: 0;
  }

  &__right {
    right: 0;
  }
}